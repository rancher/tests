- projects: [RANCHERINT]
  suite: Fleet
  cases:
  - title: "Test deploying fleet git repo on provisioned downstream cluster"
    description: "Validate that a git repo can be deployed via fleet on a downstream v2prov cluster within Rancher Manager"
    automation: 2
    steps:
    - action: "Create Rancher"
      data: ""
      expectedresult: ""
      position: 1
    - action: "Provision a kubernetes cluster"
      data: "cluster name: testcluster1"
      expectedresult: ""
      position: 2
    - action: "Create a new project and namespace"
      data: "project name: fleet-test, namespace-name: fleet-testns"
      expectedresult: ""
      position: 3
    - action: "Deploy a GitRepo object"
      data: "/validation/fleet/schemas/gitrepo.yaml"
      expectedresult: "the gitRepo itself comes to an active state and the resources defined in the spec are created on the downstream cluster in the fleet-testns namespace"
      position: 4
    custom_field:
      "15": "TestGitRepoDeployment"
  - title: "Test deploying dynamic fleet git repo on downstream cluster"
    description: "Validate that a dynamically configured GitRepo can be deployed via Fleet on a downstream cluster within Rancher Manager"
    automation: 2
    steps:
    - action: "Create Rancher"
      data: ""
      expectedresult: ""
      position: 1
    - action: "Provision a kubernetes cluster"
      data: "cluster name: testcluster1"
      expectedresult: ""
      position: 2
    - action: "Create a new project and namespace"
      data: "project name: fleet-test, namespace-name: fleet-testns"
      expectedresult: ""
      position: 3
    - action: "Deploy dynamic GitRepo object"
      data: "/validation/fleet/schemas/dynamicgitrepo.yaml"
      expectedresult: "Dynamic GitRepo created successfully"
      position: 4
    - action: "Verify dynamic GitRepo"
      data: "Verify GitRepo status on downstream cluster"
      expectedresult: "Dynamic GitRepo reaches active state and applies resources"
      position: 5
    custom_field:
      "15": "TestDynamicGitRepoDeployment"
